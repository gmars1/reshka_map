<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ffffff">
    <title>–û—Ä—ë–ª –∏ –†–µ—à–∫–∞ ‚Äî –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –≤—ã–ø—É—Å–∫–æ–≤</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
    <link rel="stylesheet" href="src/style.css"> 
</head>
<body>

    <div class="map-wrapper">
        <main id="map" class="map-container"></main>
        
        <!-- Desktop: Top panels -->
        <div class="top-panels" id="topPanels">
            <div class="search-panel panel" id="searchPanel">
                <div class="panel-header">
                    <span class="panel-title">üîç</span>
                    <input type="text" class="search-input" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–∞..." autocomplete="off">
                </div>
                <div class="search-results" id="searchResults"></div>
            </div>
            
            <div class="seasons-panel panel" id="seasonsPanel">
                <div class="panel-header" id="seasonsHeader">
                    <span class="panel-title">–°–µ–∑–æ–Ω—ã</span>
                    <span class="panel-count" id="seasonsCount"></span>
                    <span class="toggle-icon">‚ñæ</span>
                </div>
                <div class="panel-content" id="seasonsContent">
                    <div class="seasons-controls">
                        <button class="seasons-btn" data-action="showAll">–í—Å–µ</button>
                        <button class="seasons-btn" data-action="hideAll">–°–±—Ä–æ—Å</button>
                    </div>
                    <div class="seasons-items" id="seasonsItems"></div>
                </div>
            </div>
            
            <div class="status-panel panel" id="statusPanel">
                <div class="status-content" id="statusContent">
                    <span class="status-icon">‚è≥</span>
                    <span class="status-text" id="status">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</span>
                </div>
                <div class="log-container" id="log"></div>
            </div>
        </div>
        
        <!-- Mobile: Bottom Sheet -->
        <div class="bottom-sheet" id="bottomSheet">
            <div class="bottom-sheet-tabs" id="bottomSheetTabs">
                <button class="sheet-tab active" data-tab="search">üîç –ü–æ–∏—Å–∫</button>
                <button class="sheet-tab" data-tab="seasons">–°–µ–∑–æ–Ω—ã</button>
                <button class="sheet-tab" data-tab="status">–°—Ç–∞—Ç—É—Å</button>
            </div>
            <div class="bottom-sheet-content">
                <div class="sheet-panel active" id="sheetSearch">
                    <input type="text" class="sheet-search-input" id="sheetSearchInput" placeholder="–ì–æ—Ä–æ–¥ –∏–ª–∏ —Å—Ç—Ä–∞–Ω–∞..." autocomplete="off">
                    <div class="sheet-search-results" id="sheetSearchResults"></div>
                </div>
                <div class="sheet-panel" id="sheetSeasons">
                    <div class="seasons-controls">
                        <button class="seasons-btn" data-action="showAll">–í—Å–µ</button>
                        <button class="seasons-btn" data-action="hideAll">–°–±—Ä–æ—Å</button>
                    </div>
                    <div class="seasons-items" id="sheetSeasonsItems"></div>
                </div>
                <div class="sheet-panel" id="sheetStatus">
                    <div class="sheet-status-indicator" id="sheetStatusIndicator">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
                    <div class="log-container" id="sheetLog"></div>
                </div>
            </div>
            <div class="bottom-sheet-handle" id="bottomSheetHandle">
                <div class="handle-bar"></div>
            </div>
        </div>
        
        <!-- License Button -->
        <div class="license-container">
            <button class="license-toggle" id="licenseToggle" aria-label="–û –ø—Ä–æ–µ–∫—Ç–µ">
                <span class="license-icon">‚Ñπ</span>
            </button>
            <div class="license-expanded" id="licenseExpanded">
                <div class="license-title">–û –ø—Ä–æ–µ–∫—Ç–µ</div>
                <div class="license-content">
                    <div class="license-section">
                        –î–∞–Ω–Ω—ã–µ: <a href="https://ru.wikipedia.org/wiki/–û—Ä—ë–ª_–∏_—Ä–µ—à–∫–∞_(—Ç–µ–ª–µ–ø–µ—Ä–µ–¥–∞—á–∞)" target="_blank" rel="noopener">–í–∏–∫–∏–ø–µ–¥–∏—è</a>
                        | –õ–∏—Ü–µ–Ω–∑–∏—è: <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.ru" target="_blank" rel="noopener">CC BY-SA 4.0</a>
                    </div>
                    <div class="license-section">
                        –ö–∞—Ä—Ç–∞: ¬© <a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMap</a><br>
                        –ì–µ–æ–¥–∞–Ω–Ω—ã–µ: <a href="https://nominatim.openstreetmap.org/" target="_blank" rel="noopener noreferrer">Nominatim</a>
                    </div>
                    <div class="license-section">
                        –î–∞–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–º —Ñ–∞–Ω-–ø—Ä–æ–µ–∫—Ç–æ–º.<br>
                        –í—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Ç–æ—Ä–≥–æ–≤—É—é –º–∞—Ä–∫—É ¬´–û—Ä—ë–ª –∏ –†–µ—à–∫–∞¬ª –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∏—Ö –∑–∞–∫–æ–Ω–Ω—ã–º –≤–ª–∞–¥–µ–ª—å—Ü–∞–º. <br>
                        –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∑—è—Ç –∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script src="src/script.js" type="module"></script>
</body>
</html>
